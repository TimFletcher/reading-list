{"version":3,"sources":["webpack:///webpack/bootstrap c28618be103bf9a6e29b","webpack:///./src/app.js","webpack:///./src/content.js","webpack:///./src/history.js","webpack:///external \"R\"","webpack:///./src/userPrefs.js"],"names":["content","history","userPrefs","then","formattedList","R","reduce","list","map","document","getElementById","innerHTML","listItem","body","encodeURIComponent","replace","length","dict","includeUrl","item","push","removeUrl","index","indexOf","splice","getBaseUrl","splitUrl","window","location","href","split","baseUrl","addCurrentPageToDict","getTodaysDate","date","Date","setHours","getTime","searchChromeHistory","Promise","resolve","reject","chrome","search","createList","historyItems","strBuilder","a","b","listFormatter","createRegexFromDict","source","RegExp","slice","isMatch","test","url","getMatchedItems","filter","getTitle","prop","getTitlesFromHistory","compose","uniq","limiter","saveOptions","storage","sync","set","deliveryFrequency","publishingAccount","console","log","getOptions","get","data"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap c28618be103bf9a6e29b","import * as content from './content'\nimport * as history from './history'\nimport * as userPrefs from './userPrefs'\n\n\n// WEBPACK FOOTER //\n// ./src/app.js","import { listFormatter, searchChromeHistory } from './history'\n\nsearchChromeHistory().then(list => {\n    const formattedList = R.reduce(listFormatter, '', list)\n\n    list.map(listItem => {\n        document.getElementById('list-area').innerHTML += '<p>' + listItem + '</p>'\n    })\n    \n    // escaping the ' character, may need to revisit this in the future if more chars cause encoding issues\n    document.body.innerHTML += \"<a class='reading-list' href='data:text;charset=utf-8,\" + \n        encodeURIComponent(formattedList).replace(/'/g, \"%27\") + \"' download='reading-list'>Download your List</a>\"\n    \n    document.getElementById('number-read').innerHTML = list.length\n})\n\n// leaving this here as it tripped me up for a while. DOMContentLoaded did not appear to be firing\n// but apparently content scripts run on their own after the DOM is loaded (at least with \n// \"start_at\" set in manifest.json)\n// https://groups.google.com/a/chromium.org/d/msg/chromium-extensions/9bsbgra9QgE/LvbtWPF_QqUJ\n// document.addEventListener('DOMContentLoaded', () => {\n//     DOM code\n// })\n\n\n// WEBPACK FOOTER //\n// ./src/content.js","import R from 'ramda'\n\nlet dict = ['medium.com', 'quora.com', 'nytimes.com', 'cnn.com', 'newsweek.com', \n    'blog', 'topic', 'story', 'article']\n\n//////////////Impure functions/////////////////\n\nconst includeUrl = (item = '') => {\n    dict.push(item)\n}\n\nconst removeUrl = (item = '') => {\n    const index = dict.indexOf(item)\n    if (index != -1) {\n        dict.splice(index, 1)\n    }\n}\n\nconst getBaseUrl = () => {\n    const splitUrl = window.location.href.split('/')\n    const baseUrl = splitUrl[2]\n    //common for sites to use 'blog' as subdomain, so we include it\n    if (splitUrl[3] === 'blog') {\n        return baseUrl + '/' + splitUrl[3]\n    }\n    return baseUrl\n}\n\nconst addCurrentPageToDict = () => {\n    dict.push(getBaseUrl())\n}\n\nconst getTodaysDate = () => {\n    const date = new Date()\n    date.setHours(0,0,0,0)\n    return date.getTime()\n}\n\nconst searchChromeHistory = () => {\n    return new Promise((resolve, reject) => {\n        chrome.history.search({\n            'text': '', //empty string returns all,\n            'startTime': getTodaysDate(),\n            'maxResults': 1000000\n        }, historyItems => {\n            const list = createList(historyItems)\n            resolve(list)\n        })\n    })\n}\n\n//////////////(Mostly) pure functions////////////////\n\nconst strBuilder = (a = '', b = '') => {\n    return a + '|' + b\n}\n\nconst listFormatter = (a, b) => {\n  return a + '\\n' + b\n}\n\nconst createRegexFromDict = (source = []) => {\n    return new RegExp(R.reduce(strBuilder, '', source).slice(1))\n}\n\nconst isMatch = item => {\n    return R.test(createRegexFromDict(dict), item.url)\n}\n\nconst getMatchedItems = R.filter(isMatch)\n\nconst getTitle = R.prop('title')\n\nconst getTitlesFromHistory = R.compose(\n    R.uniq,\n    R.map(getTitle)\n)\n\nconst createList = R.compose(\n    getTitlesFromHistory,\n    getMatchedItems\n)\n\nconst limiter = item => {\n    //if get multiple url's like url/page-1, url/page-2 need to limit\n}\n\nexport {\n    listFormatter,\n    searchChromeHistory  \n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/history.js","module.exports = R;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"R\"\n// module id = 4\n// module chunks = 0","const saveOptions = () => {\n    chrome.storage.sync.set({\n        deliveryFrequency: 'daily', \n        publishingAccount: '' // will be used for later if add ability to publish to Twitter\n    }, () => {\n        console.log('Options saved')\n    })\n}\n\nconst getOptions = () => {\n    chrome.storage.sync.get('deliveryFrequency', data => {\n        console.log('data', data)\n    })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/userPrefs.js"],"sourceRoot":""}